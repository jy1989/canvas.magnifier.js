!function(e){"use strict";e.magnifier=function(e){function t(e){y=e,w=p*y/2-p/2,v=c*y/2-c/2,i()}function o(){r?d=document.getElementById(r):(d=document.createElement("div"),d.setAttribute("style","z-index:1989;position:absolute;display:none;"+a),d.style.width=p+"px",d.style.height=c+"px",d.style.top=b.offsetTop+10+"px",d.style.left=b.offsetLeft+10+"px",u&&(d.style.borderRadius=u+"px"),document.body.appendChild(d)),l=document.createElement("canvas"),l.width=p,l.height=c,l.style.width=p+"px",l.style.height=c+"px",d.style.borderRadius&&(l.style.borderRadius=d.style.borderRadius),d.appendChild(l),f=l.getContext("2d"),i()}function i(){f.clearRect(0,0,p,c),f.drawImage(b,T,S,p,c,-w,-v,p*y,c*y),h&&("rect"==h?g>0&&(f.fillStyle=x,f.fillRect(p/2-g/2,c/2-g/2,g,g)):"cross"==h&&(f.beginPath(),f.strokeStyle=x,f.moveTo(0,c/2),f.lineTo(p,c/2),f.stroke(),f.beginPath(),f.strokeStyle=x,f.moveTo(p/2,0),f.lineTo(p/2,c),f.stroke()))}function n(e,t){if(R){e.touches&&(e=e.touches[0]);var o=e.pageX,n=e.pageY;r||(t&&"function"==typeof t?t(d):(d.style.top=n-c+"px",d.style.left=o+p/4+"px")),T=e.offsetX||o-b.offsetLeft,S=e.offsetY||n-b.offsetTop,T-=p/2,S-=c/2,i()}}function s(e){R=e,d.style.display=R?"":"none"}var d,f,l,r=e.magnifierDivId,a=e.magnifierDivStyle||"border:1px solid #ccc;background:#fff;box-shadow:5px 5px 25px #000;",p=e.width||150,c=e.height||150,y=e.ratio||3,u="undefined"==typeof e.radius?p/2:e.radius,h=e.sightType||"rect",g="undefined"==typeof e.sightSize?5:e.sightSize,x=e.sightColor||"#FF0000",m=e.targetCanvasId,b=document.getElementById(m),w=p*y/2-p/2,v=c*y/2-c/2,R=!1,T=0,S=0;return o(),{bind:n,show:s,setRatio:t}}}(window.jy=window.jy||{});