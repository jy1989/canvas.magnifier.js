!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define(t):this[e]=t()}("JyMagnifier",function(){"use strict";var e=function(e){function t(e){c=e,v=p*c/2-p/2,w=u*c/2-u/2,i()}function o(){r?d=document.getElementById(r):(d=document.createElement("div"),d.setAttribute("style","z-index:1989;position:absolute;display:none;"+a),d.style.width=p+"px",d.style.height=u+"px",d.style.top=b.offsetTop+10+"px",d.style.left=b.offsetLeft+10+"px",y&&(d.style.borderRadius=y+"px"),document.body.appendChild(d)),l=document.createElement("canvas"),l.width=p,l.height=u,l.style.width=p+"px",l.style.height=u+"px",d.style.borderRadius&&(l.style.borderRadius=d.style.borderRadius),d.appendChild(l),f=l.getContext("2d"),i()}function i(){f.clearRect(0,0,p,u),f.drawImage(b,T,S,p,u,-v,-w,p*c,u*c),h&&("rect"==h?g>0&&(f.fillStyle=m,f.fillRect(p/2-g/2,u/2-g/2,g,g)):"cross"==h&&(f.beginPath(),f.strokeStyle=m,f.moveTo(0,u/2),f.lineTo(p,u/2),f.stroke(),f.beginPath(),f.strokeStyle=m,f.moveTo(p/2,0),f.lineTo(p/2,u),f.stroke()))}function n(e,t){if(R){e.touches&&(e=e.touches[0]);var o=e.pageX,n=e.pageY;r||(t&&"function"==typeof t?t(d):(d.style.top=n-u+"px",d.style.left=o+p/4+"px")),T=e.offsetX||o-b.offsetLeft,S=e.offsetY||n-b.offsetTop,T-=p/2,S-=u/2,i()}}function s(e){R=e,d.style.display=R?"":"none"}var d,f,l,r=e.magnifierDivId,a=e.magnifierDivStyle||"border:1px solid #ccc;background:#fff;box-shadow:5px 5px 25px #000;",p=e.width||150,u=e.height||150,c=e.ratio||3,y="undefined"==typeof e.radius?p/2:e.radius,h=e.sightType||"rect",g="undefined"==typeof e.sightSize?5:e.sightSize,m=e.sightColor||"#FF0000",x=e.targetCanvasId,b=document.getElementById(x),v=p*c/2-p/2,w=u*c/2-u/2,R=!1,T=0,S=0;return o(),{bind:n,show:s,setRatio:t}};return e});