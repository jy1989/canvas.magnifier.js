!function(e){"use strict";e.magnifier=function(e){function t(e){c=e,w=p*c/2-p/2,v=y*c/2-y/2,o()}function i(){r?d=document.getElementById(r):(d=document.createElement("div"),d.setAttribute("style","z-index:1989;position:absolute;display:none;"+a),d.style.width=p+"px",d.style.height=y+"px",d.style.top=b.offsetTop+10+"px",d.style.left=b.offsetLeft+10+"px",u&&(d.style.borderRadius=u+"px"),document.body.appendChild(d)),l=document.createElement("canvas"),l.width=p,l.height=y,l.style.width=p+"px",l.style.height=y+"px",d.style.borderRadius&&(l.style.borderRadius=d.style.borderRadius),d.appendChild(l),f=l.getContext("2d"),o()}function o(){f.clearRect(0,0,p,y),f.drawImage(b,T,S,p,y,-w,-v,p*c,y*c),h&&("rect"==h?g>0&&(f.fillStyle=x,f.fillRect(p/2-g/2,y/2-g/2,g,g)):"cross"==h&&(f.beginPath(),f.strokeStyle=x,f.moveTo(0,y/2),f.lineTo(p,y/2),f.stroke(),f.beginPath(),f.strokeStyle=x,f.moveTo(p/2,0),f.lineTo(p/2,y),f.stroke()))}function n(e,t){if(R){var i=e.pageX,n=e.pageY;r||(t&&"function"==typeof t?t(d):(d.style.top=n-y+"px",d.style.left=i+p/4+"px")),T=e.offsetX||i-b.offsetLeft,S=e.offsetY||n-b.offsetTop,T-=p/2,S-=y/2,o()}}function s(e){R=e,d.style.display=R?"":"none"}var d,f,l,r=e.magnifierDivId,a=e.magnifierDivStyle||"border:1px solid #ccc;background:#fff;box-shadow:5px 5px 25px #000;",p=e.width||150,y=e.height||150,c=e.ratio||3,u="undefined"==typeof e.radius?p/2:e.radius,h=e.sightType||"rect",g="undefined"==typeof e.sightSize?5:e.sightSize,x=e.sightColor||"#FF0000",m=e.targetCanvasId,b=document.getElementById(m),w=p*c/2-p/2,v=y*c/2-y/2,R=!1,T=0,S=0;return i(),{bind:n,show:s,setRatio:t}}}(window.jy=window.jy||{});